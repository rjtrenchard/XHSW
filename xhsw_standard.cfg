////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
//
// XHSW "Crosshair Switcher"
//
// @author 	Nattajerk
// @description A modification of Schmuddel's crosshair switching script 
//
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////

//exec xhsw_settings

////////////////////////////////////////////////////////////////////////////
// Crosshair user settings
// Change the RGB, file, and scale values to your own settings
// Uncomment the sensitivity aliases if you wish to have different 
// sensitivities based on what weapon you're using
////////////////////////////////////////////////////////////////////////////


// User crosshair settings
alias xhsw_primary_red "cl_crosshair_red 200"
alias xhsw_primary_blue "cl_crosshair_green 200"
alias xhsw_primary_green "cl_crosshair_blue 200"
alias xhsw_primary_file "cl_crosshair_file crosshair5"
alias xhsw_primary_scale "cl_crosshair_scale 35"
//alias xhsw_primary_sensitivity "sensitivity 1.45"

alias xhsw_secondary_red "cl_crosshair_red 200"
alias xhsw_secondary_blue "cl_crosshair_blue 200"
alias xhsw_secondary_green "cl_crosshair_green 200"
alias xhsw_secondary_file "cl_crosshair_file crosshair6"
alias xhsw_secondary_scale "cl_crosshair_scale 50"
//alias xhsw_secondary_sensitivity "sensitivity 1.45"

alias xhsw_melee_red "cl_crosshair_red 0"
alias xhsw_melee_blue "cl_crosshair_blue 0"
alias xhsw_melee_green "cl_crosshair_green 255"
alias xhsw_melee_file "cl_crosshair_file crosshair4"
alias xhsw_melee_scale "cl_crosshair_scale 50"
//alias xhsw_melee_sensitivity "sensitivity 1.45"


// User Keybindings
bind 1 "xhsw_weapon_primary"
bind 2 "xhsw_weapon_secondary"
bind 3 "xhsw_weapon_melee"
bind q "xhsw_qswitch"
bind "MOUSE4" "xhsw_downbind"
bind "MOUSE5" "xhsw_upbind"
//bind mwheelup "xhsw_upbind"
//bind mwheeldown "xhsw_downbind"
bind f "xhsw_switch_vm"
bind "/" "exec 
bind r "xhsw_current_weapon; reload; 

////////////////////////////////////////////////////////////////////////////
// New console commands
////////////////////////////////////////////////////////////////////////////

//xhsw_view stores the viewmodel preference, switchable by the f (+inspect) key
alias xhsw_view xhsw_view_disable

//primary, second, melee switch to that respective weapon
alias primary "slot1;alias xhsw_weapon_secondary xhsw_sw_sec_pri;alias xhsw_weapon_melee xhsw_sw_mel_pri;alias xhsw_downbind xhsw_sw_sec_pri;alias xhsw_upbind xhsw_sw_mel_pri;xhsw_cross_primary; xhsw_primary_sensitivity"
alias second "slot2;alias xhsw_weapon_primary xhsw_switch_pri_sec;alias xhsw_weapon_melee xhsw_sw_mel_sec;alias xhsw_downbind xhsw_sw_mel_sec;alias xhsw_upbind xhsw_switch_pri_sec;xhsw_cross_secondary; xhsw_secondary_sensitivity"
alias melee "slot3;alias xhsw_weapon_primary xhsw_switch_pri_mel;alias xhsw_weapon_secondary xhsw_sw_sec_mel;alias xhsw_downbind xhsw_switch_pri_mel;alias xhsw_upbind xhsw_sw_sec_mel;xhsw_cross_melee; xhsw_melee_sensitivity"

//clear xhsw
alias xhsw_clear "exec xhsw_clear"

//revert xhsw to default settings
alias xhsw_defaults "exec xhsw_defaults"

////////////////////////////////////////////////////////////////////////////
// Inner working stuff
////////////////////////////////////////////////////////////////////////////

//alias the crosshair variables to the user set variables
alias xhsw_cross_primary "xhsw_view; xhsw_primary_red; xhsw_primary_blue; xhsw_primary_green; xhsw_primary_scale; xhsw_primary_file"
alias xhsw_cross_secondary "xhsw_view; xhsw_secondary_red; xhsw_secondary_blue; xhsw_secondary_green; xhsw_secondary_scale; xhsw_secondary_file"
alias xhsw_cross_melee "xhsw_fryingpan_view; xhsw_melee_red; xhsw_melee_blue; xhsw_melee_green; xhsw_melee_scale; xhsw_melee_file"

alias xhsw_switch_vm "xhsw_view_on"

//viewmodel enabler
alias xhsw_view_enable "viewmodel_fov 90; r_drawviewmodel 1"
alias xhsw_view_disable "viewmodel_fov 0; r_drawviewmodel 0"
alias xhsw_fryingpan_view "viewmodel_fov 90; r_drawviewmodel 1"

//view inspect button switcher
alias xhsw_view_on "alias xhsw_view xhsw_view_enable; alias xhsw_switch_vm xhsw_view_off; +inspect; xhsw_view" 
alias xhsw_view_off "alias xhsw_view xhsw_view_disable; alias xhsw_switch_vm xhsw_view_on; xhsw_view"

//initialize xhsw_upbind/xhsw_downbind so that they do something
alias xhsw_upbind "xhsw_sw_mel_pri"
alias xhsw_downbind "xhsw_sw_sec_pri"

//initialiaze primary/secondary/melee
alias xhsw_weapon_primary "primary"
alias xhsw_weapon_secondary "second"
alias xhsw_weapon_melee "melee"

//weapon switching, this block will set your last weapon.
alias xhsw_qswitch "xhsw_sw_sec_pri"

alias xhsw_current_weapon "primary"
alias xhsw_last_weapon "secondary"

alias

alias xhsw_switch_pri_sec "primary;alias xhsw_qswitch xhsw_sw_sec_pri"
alias xhsw_switch_pri_mel "primary;alias xhsw_qswitch xhsw_sw_mel_pri"
alias xhsw_sw_sec_pri "second;alias xhsw_qswitch xhsw_switch_pri_sec"
alias xhsw_sw_sec_mel "second;alias xhsw_qswitch xhsw_sw_mel_sec"
alias xhsw_sw_mel_pri "melee;alias xhsw_qswitch xhsw_switch_pri_mel"
alias xhsw_sw_mel_sec "melee;alias xhsw_qswitch xhsw_sw_sec_mel"

//begin with crosshair 1
xhsw_cross_primary


//Below is a reversal script; paste this into any class configs for which you don't want to use the crosshair/viewmodel switcher; be sure to uncomment each line
//bind 1 "slot1"
//bind 2 "slot2"
//bind 3 "slot3"
//bind q "lastinv"
//bind mwheeldown "invnext"
//bind mwheelup "invprev"

echo "Standard 3-weapon setup executed"