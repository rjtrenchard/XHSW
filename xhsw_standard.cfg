////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
//
// XHSW "Crosshair Switcher"
//
// @author 	Nattajerk
// @description A crosshair switcher for Team Fortress 2
//
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////

exec xhsw_bootstrap
exec xhsw_settings
exec xhsw_defaults

////////////////////////////////////////////////////////////////////////////
// Console commands
////////////////////////////////////////////////////////////////////////////

//xhsw_view stores the viewmodel preference, switchable by the f (+inspect) key
alias xhsw_view xhsw_view_disable

//primary, second, melee switch to that respective weapon
alias xhsw_primary "slot1;alias xhsw_weapon_secondary xhsw_sw_sec_pri;alias xhsw_weapon_melee xhsw_sw_mel_pri;alias xhsw_downbind xhsw_sw_sec_pri;alias xhsw_upbind xhsw_sw_mel_pri;xhsw_cross_primary; xhsw_primary_sensitivity"
alias xhsw_second "slot2;alias xhsw_weapon_primary xhsw_switch_pri_sec;alias xhsw_weapon_melee xhsw_sw_mel_sec;alias xhsw_downbind xhsw_sw_mel_sec;alias xhsw_upbind xhsw_switch_pri_sec;xhsw_cross_secondary; xhsw_secondary_sensitivity"
alias xhsw_melee "slot3;alias xhsw_weapon_primary xhsw_switch_pri_mel;alias xhsw_weapon_secondary xhsw_sw_sec_mel;alias xhsw_downbind xhsw_switch_pri_mel;alias xhsw_upbind xhsw_sw_sec_mel;xhsw_cross_melee; xhsw_melee_sensitivity"

//clear xhsw
alias xhsw_clear "exec xhsw_clear"

//revert xhsw to default settings
alias xhsw_defaults "exec xhsw_defaults"

////////////////////////////////////////////////////////////////////////////
// Inner working stuff
////////////////////////////////////////////////////////////////////////////

//alias the crosshair variables to the user set variables
alias xhsw_cross_primary "xhsw_view; xhsw_primary_red; xhsw_primary_blue; xhsw_primary_green; xhsw_primary_scale; xhsw_primary_file"
alias xhsw_cross_secondary "xhsw_view; xhsw_secondary_red; xhsw_secondary_blue; xhsw_secondary_green; xhsw_secondary_scale; xhsw_secondary_file"
alias xhsw_cross_melee "xhsw_fryingpan_view; xhsw_melee_red; xhsw_melee_blue; xhsw_melee_green; xhsw_melee_scale; xhsw_melee_file"

//viewmodel enabler
alias xhsw_view_enable "viewmodel_fov 90; r_drawviewmodel 1; echo Viewmodels Enabled"
alias xhsw_view_disable "viewmodel_fov 0; r_drawviewmodel 0; echo Viewmodels Disabled"
alias xhsw_fryingpan_view "viewmodel_fov 90; r_drawviewmodel 1"
alias xhsw_switch_vm "xhsw_initial_view"

//view inspect button switcher
alias xhsw_view_on "alias xhsw_view xhsw_view_enable; alias xhsw_switch_vm xhsw_view_off; +inspect; xhsw_view"
alias xhsw_view_off "alias xhsw_view xhsw_view_disable; alias xhsw_switch_vm xhsw_view_on; xhsw_view"

//initialize xhsw_upbind/xhsw_downbind so that they do something
alias xhsw_upbind "xhsw_sw_mel_pri"
alias xhsw_downbind "xhsw_sw_sec_pri"

//initialiaze primary/secondary/melee
alias xhsw_weapon_primary "xhsw_primary"
alias xhsw_weapon_secondary "second"
alias xhsw_weapon_melee "xhsw_melee"

//weapon switching, this block will set your last weapon.
alias xhsw_qswitch "xhsw_switch_sec"

alias xhsw_current_weapon "xhsw_primary"
alias xhsw_last_weapon "xhsw_secondary"
alias xhsw_switch "alias xhsw_qswitch xhsw_current_weapon; alias xhsw_last_weapon xhsw_current_weapon; alias xhsw_current_weapon xhsw_primary"

alias xhsw_switch_pri "xhsw_primary; xhsw_switch"
alias xhsw_switch_sec "xhsw_secondary; xhsw_switch"
alias xhsw_switch_mel "xhsw_melee; xhsw_switch"


//execute
xhsw_cross_primary
xhsw_switch_vm

echo "Standard 3-weapon setup executed"
